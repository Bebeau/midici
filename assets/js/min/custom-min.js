$(function(){ParallaxScroll.init()});var ParallaxScroll={showLogs:!1,round:1e3,init:function(){return this._log("init"),this._inited?(this._log("Already Inited"),void(this._inited=!0)):(this._requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)}}(),void this._onScroll(!0))},_inited:!1,_properties:["x","y","z","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","scale"],_requestAnimationFrame:null,_log:function(t){this.showLogs&&console.log("Parallax Scroll / "+t)},_onScroll:function(t){var e=$(document).scrollTop(),i=$(window).height();this._log("onScroll "+e),$("[data-parallax]").each($.proxy(function(n,o){var s=$(o),r=[],a=!1,l=s.data("style");void 0==l&&(l=s.attr("style")||"",s.data("style",l));var d=[s.data("parallax")],c;for(c=2;s.data("parallax"+c);c++)d.push(s.data("parallax-"+c));var h=d.length;for(c=0;h>c;c++){var u=d[c],p=u["from-scroll"];void 0==p&&(p=Math.max(0,$(o).offset().top-i)),p=0|p;var f=u.distance,m=u["to-scroll"];void 0==f&&void 0==m&&(f=i),f=Math.max(0|f,1);var g=u.easing,v=u["easing-return"];if(void 0!=g&&$.easing&&$.easing[g]||(g=null),void 0!=v&&$.easing&&$.easing[v]||(v=g),g){var y=u.duration;void 0==y&&(y=f),y=Math.max(0|y,1);var w=u["duration-return"];void 0==w&&(w=y),f=1;var _=s.data("current-time");void 0==_&&(_=0)}void 0==m&&(m=p+f),m=0|m;var b=u.smoothness;void 0==b&&(b=30),b=0|b,(t||0==b)&&(b=1),b=0|b;var x=e;x=Math.max(x,p),x=Math.min(x,m),g&&(void 0==s.data("sens")&&s.data("sens","back"),x>p&&("back"==s.data("sens")?(_=1,s.data("sens","go")):_++),m>x&&("go"==s.data("sens")?(_=1,s.data("sens","back")):_++),t&&(_=y),s.data("current-time",_)),this._properties.map($.proxy(function(t){var e=0,i=u[t];if(void 0!=i){"scale"==t||"scaleX"==t||"scaleY"==t||"scaleZ"==t?e=1:i=0|i;var n=s.data("_"+t);void 0==n&&(n=e);var o=(i-e)*((x-p)/(m-p))+e,l=n+(o-n)/b;if(g&&_>0&&y>=_){var d=e;"back"==s.data("sens")&&(d=i,i=-i,g=v,y=w),l=$.easing[g](null,_,d,i,y)}l=Math.ceil(l*this.round)/this.round,l==n&&o==i&&(l=i),r[t]||(r[t]=0),r[t]+=l,n!=r[t]&&(s.data("_"+t,r[t]),a=!0)}},this))}if(a){if(void 0!=r.z){var C=u.perspective;void 0==C&&(C=800);var k=s.parent();k.data("style")||k.data("style",k.attr("style")||""),k.attr("style","perspective:"+C+"px; -webkit-perspective:"+C+"px; "+k.data("style"))}void 0==r.scaleX&&(r.scaleX=1),void 0==r.scaleY&&(r.scaleY=1),void 0==r.scaleZ&&(r.scaleZ=1),void 0!=r.scale&&(r.scaleX*=r.scale,r.scaleY*=r.scale,r.scaleZ*=r.scale);var j="translate3d("+(r.x?r.x:0)+"px, "+(r.y?r.y:0)+"px, "+(r.z?r.z:0)+"px)",I="rotateX("+(r.rotateX?r.rotateX:0)+"deg) rotateY("+(r.rotateY?r.rotateY:0)+"deg) rotateZ("+(r.rotateZ?r.rotateZ:0)+"deg)",Q="scaleX("+r.scaleX+") scaleY("+r.scaleY+") scaleZ("+r.scaleZ+")",A=j+" "+I+" "+Q+";";this._log(A),s.attr("style","transform:"+A+" -webkit-transform:"+A+" "+l)}},this)),window.requestAnimationFrame?window.requestAnimationFrame($.proxy(this._onScroll,this,!1)):this._requestAnimationFrame($.proxy(this._onScroll,this,!1))}};(function(){var t;t=function(){function t(t,e){var i,n;if(this.options={target:"instafeed",get:"popular",resolution:"thumbnail",sortBy:"none",links:!0,mock:!1,useHttp:!1},"object"==typeof t)for(i in t)n=t[i],this.options[i]=n;this.context=null!=e?e:this,this.unique=this._genKey()}return t.prototype.hasNext=function(){return"string"==typeof this.context.nextUrl&&this.context.nextUrl.length>0},t.prototype.next=function(){return this.hasNext()?this.run(this.context.nextUrl):!1},t.prototype.run=function(e){var i,n,o;if("string"!=typeof this.options.clientId&&"string"!=typeof this.options.accessToken)throw new Error("Missing clientId or accessToken.");if("string"!=typeof this.options.accessToken&&"string"!=typeof this.options.clientId)throw new Error("Missing clientId or accessToken.");return null!=this.options.before&&"function"==typeof this.options.before&&this.options.before.call(this),"undefined"!=typeof document&&null!==document&&(o=document.createElement("script"),o.id="instafeed-fetcher",o.src=e||this._buildUrl(),i=document.getElementsByTagName("head"),i[0].appendChild(o),n="instafeedCache"+this.unique,window[n]=new t(this.options,this),window[n].unique=this.unique),!0},t.prototype.parse=function(t){var e,i,n,o,s,r,a,l,d,c,h,u,p,f,m,g,v,y,w,_,b,x,C,k,j,I,Q,A,q,S,O,T,E;if("object"!=typeof t){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"Invalid JSON data"),!1;throw new Error("Invalid JSON response")}if(200!==t.meta.code){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,t.meta.error_message),!1;throw new Error("Error from Instagram: "+t.meta.error_message)}if(0===t.data.length){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"No images were returned from Instagram"),!1;throw new Error("No images were returned from Instagram")}if(null!=this.options.success&&"function"==typeof this.options.success&&this.options.success.call(this,t),this.context.nextUrl="",null!=t.pagination&&(this.context.nextUrl=t.pagination.next_url),"none"!==this.options.sortBy)switch(O="random"===this.options.sortBy?["","random"]:this.options.sortBy.split("-"),S="least"===O[0],O[1]){case"random":t.data.sort(function(){return.5-Math.random()});break;case"recent":t.data=this._sortBy(t.data,"created_time",S);break;case"liked":t.data=this._sortBy(t.data,"likes.count",S);break;case"commented":t.data=this._sortBy(t.data,"comments.count",S);break;default:throw new Error("Invalid option for sortBy: '"+this.options.sortBy+"'.")}if("undefined"!=typeof document&&null!==document&&this.options.mock===!1){if(g=t.data,q=parseInt(this.options.limit,10),null!=this.options.limit&&g.length>q&&(g=g.slice(0,q)),a=document.createDocumentFragment(),null!=this.options.filter&&"function"==typeof this.options.filter&&(g=this._filter(g,this.options.filter)),null!=this.options.template&&"string"==typeof this.options.template){for(d="",f="",_="",E=document.createElement("div"),h=0,j=g.length;j>h;h++){if(u=g[h],p=u.images[this.options.resolution],"object"!=typeof p)throw r="No image found for resolution: "+this.options.resolution+".",new Error(r);b=p.width,y=p.height,w="square",b>y&&(w="landscape"),y>b&&(w="portrait"),m=p.url,c=window.location.protocol.indexOf("http")>=0,c&&!this.options.useHttp&&(m=m.replace(/https?:\/\//,"//")),f=this._makeTemplate(this.options.template,{model:u,id:u.id,link:u.link,type:u.type,image:m,width:b,height:y,orientation:w,caption:this._getObjectProperty(u,"caption.text"),likes:u.likes.count,comments:u.comments.count,location:this._getObjectProperty(u,"location.name")}),d+=f}for(E.innerHTML=d,o=[],n=0,i=E.childNodes.length;i>n;)o.push(E.childNodes[n]),n+=1;for(C=0,I=o.length;I>C;C++)A=o[C],a.appendChild(A)}else for(k=0,Q=g.length;Q>k;k++){if(u=g[k],v=document.createElement("img"),p=u.images[this.options.resolution],"object"!=typeof p)throw r="No image found for resolution: "+this.options.resolution+".",new Error(r);m=p.url,c=window.location.protocol.indexOf("http")>=0,c&&!this.options.useHttp&&(m=m.replace(/https?:\/\//,"//")),v.src=m,this.options.links===!0?(e=document.createElement("a"),e.href=u.link,e.appendChild(v),a.appendChild(e)):a.appendChild(v)}if(T=this.options.target,"string"==typeof T&&(T=document.getElementById(T)),null==T)throw r='No element with id="'+this.options.target+'" on page.',new Error(r);T.appendChild(a),l=document.getElementsByTagName("head")[0],l.removeChild(document.getElementById("instafeed-fetcher")),x="instafeedCache"+this.unique,window[x]=void 0;try{delete window[x]}catch(N){s=N}}return null!=this.options.after&&"function"==typeof this.options.after&&this.options.after.call(this),!0},t.prototype._buildUrl=function(){var t,e,i;switch(t="https://api.instagram.com/v1",this.options.get){case"popular":e="media/popular";break;case"tagged":if(!this.options.tagName)throw new Error("No tag name specified. Use the 'tagName' option.");e="tags/"+this.options.tagName+"/media/recent";break;case"location":if(!this.options.locationId)throw new Error("No location specified. Use the 'locationId' option.");e="locations/"+this.options.locationId+"/media/recent";break;case"user":if(!this.options.userId)throw new Error("No user specified. Use the 'userId' option.");e="users/"+this.options.userId+"/media/recent";break;default:throw new Error("Invalid option for get: '"+this.options.get+"'.")}return i=t+"/"+e,i+=null!=this.options.accessToken?"?access_token="+this.options.accessToken:"?client_id="+this.options.clientId,null!=this.options.limit&&(i+="&count="+this.options.limit),i+="&callback=instafeedCache"+this.unique+".parse"},t.prototype._genKey=function(){var t;return t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},""+t()+t()+t()+t()},t.prototype._makeTemplate=function(t,e){var i,n,o,s,r;for(n=/(?:\{{2})([\w\[\]\.]+)(?:\}{2})/,i=t;n.test(i);)s=i.match(n)[1],r=null!=(o=this._getObjectProperty(e,s))?o:"",i=i.replace(n,""+r);return i},t.prototype._getObjectProperty=function(t,e){var i,n;for(e=e.replace(/\[(\w+)\]/g,".$1"),n=e.split(".");n.length;){if(i=n.shift(),!(null!=t&&i in t))return null;t=t[i]}return t},t.prototype._sortBy=function(t,e,i){var n;return n=function(t,n){var o,s;return o=this._getObjectProperty(t,e),s=this._getObjectProperty(n,e),i?o>s?1:-1:s>o?1:-1},t.sort(n.bind(this)),t},t.prototype._filter=function(t,e){var i,n,o,s,r;for(i=[],n=function(t){return e(t)?i.push(t):void 0},o=0,r=t.length;r>o;o++)s=t[o],n(s);return i},t}(),function(t,e){return"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.Instafeed=e()}(this,function(){return t})}).call(this),!function(t){if("function"==typeof define&&define.amd)define(["$"],t);else{var e=window.Mobify&&window.Mobify.$||window.Zepto||window.jQuery;t(e)}}(function(t){var e=function(t){var e={},i=navigator.userAgent,n=t.support=t.support||{};t.extend(t.support,{touch:"ontouchend"in document}),e.events=n.touch?{down:"touchstart",move:"touchmove",up:"touchend"}:{down:"mousedown",move:"mousemove",up:"mouseup"},e.getCursorPosition=n.touch?function(t){return t=t.originalEvent||t,{x:t.touches[0].clientX,y:t.touches[0].clientY}}:function(t){return{x:t.clientX,y:t.clientY}},e.getProperty=function(t){for(var e=["Webkit","Moz","O","ms",""],i=document.createElement("div").style,n=0;e.length>n;++n)if(void 0!==i[e[n]+t])return e[n]+t},t.extend(n,{transform:!!e.getProperty("Transform"),transform3d:!(!(window.WebKitCSSMatrix&&"m11"in new WebKitCSSMatrix)||/android\s+[1-2]/i.test(i))});var o=e.getProperty("Transform");e.translateX=n.transform3d?function(t,e){"number"==typeof e&&(e+="px"),t.style[o]="translate3d("+e+",0,0)"}:n.transform?function(t,e){"number"==typeof e&&(e+="px"),t.style[o]="translate("+e+",0)"}:function(t,e){"number"==typeof e&&(e+="px"),t.style.left=e};var s=(e.getProperty("Transition"),e.getProperty("TransitionDuration"));return e.setTransitions=function(t,e){t.style[s]=e?"":"0s"},e.requestAnimationFrame=function(){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},e=function(){t.apply(window,arguments)};return e}(),e}(t),i=function(t,e){var i={dragRadius:10,moveRadius:20,animate:!0,autoHideArrows:!1,classPrefix:"m-",classNames:{outer:"scooch",inner:"scooch-inner",item:"item",center:"center",touch:"has-touch",dragging:"dragging",active:"active",inactive:"inactive",fluid:"fluid"}},n=t.support,o=function(t,e){this.setOptions(e),this.initElements(t),this.initOffsets(),this.initAnimation(),this.bind(),this._updateCallbacks=[]};return o.defaults=i,o.prototype.setOptions=function(e){var n=this.options||t.extend({},i,e);n.classNames=t.extend({},n.classNames,e.classNames||{}),this.options=n},o.prototype.initElements=function(e){this._index=1,this.element=e,this.$element=t(e),this.$inner=this.$element.find("."+this._getClass("inner")),this.$items=this.$inner.children(),this.$start=this.$items.eq(0),this.$sec=this.$items.eq(1),this.$current=this.$items.eq(this._index-1),this._length=this.$items.length,this._alignment=this.$element.hasClass(this._getClass("center"))?.5:0,this._isFluid=this.$element.hasClass(this._getClass("fluid"))},o.prototype.initOffsets=function(){this._offsetDrag=0},o.prototype.initAnimation=function(){this.animating=!1,this.dragging=!1,this._needsUpdate=!1,this._enableAnimation()},o.prototype._getClass=function(t){return this.options.classPrefix+this.options.classNames[t]},o.prototype._enableAnimation=function(){this.animating||(e.setTransitions(this.$inner[0],!0),this.$inner.removeClass(this._getClass("dragging")),this.animating=!0)},o.prototype._disableAnimation=function(){this.animating&&(e.setTransitions(this.$inner[0],!1),this.$inner.addClass(this._getClass("dragging")),this.animating=!1)},o.prototype.refresh=function(){this.$items=this.$inner.children("."+this._getClass("item")),this.$start=this.$items.eq(0),this.$sec=this.$items.eq(1),this._length=this.$items.length,this.update()},o.prototype.update=function(t){if(void 0!==t&&this._updateCallbacks.push(t),!this._needsUpdate){this._needsUpdate=!0;var i=this;e.requestAnimationFrame(function(){i._update(),setTimeout(function(){for(var t=0,e=i._updateCallbacks.length;e>t;t++)i._updateCallbacks[t].call(i);i._updateCallbacks=[]},10)})}},o.prototype._update=function(){if(this._needsUpdate){var t=this.$current,i=this.$start,n=t.prop("offsetLeft")+t.prop("clientWidth")*this._alignment,o=i.prop("offsetLeft")+i.prop("clientWidth")*this._alignment,s=Math.round(-(n-o)+this._offsetDrag);e.translateX(this.$inner[0],s),this._needsUpdate=!1}},o.prototype.bind=function(){function i(t){n.touch||t.preventDefault(),u=!0,p=!1,a=e.getCursorPosition(t),l=0,d=0,c=!1,m._disableAnimation(),$=1==m._index,w=m._index==m._length}function o(t){if(u&&!p){var i=e.getCursorPosition(t),n=m.$element.width();l=a.x-i.x,d=a.y-i.y,c||h(l)>h(d)&&h(l)>f?(c=!0,t.preventDefault(),$&&0>l?l=l*-n/(l-n):w&&l>0&&(l=l*n/(l+n)),m._offsetDrag=-l,m.update()):h(d)>h(l)&&h(d)>f&&(p=!0)}}function s(){u&&(u=!1,m._enableAnimation(),!p&&h(l)>y.moveRadius?l>0?m.next():m.prev():(m._offsetDrag=0,m.update()))}function r(t){c&&t.preventDefault()}var a,l,d,c,h=Math.abs,u=!1,p=!1,f=this.options.dragRadius,m=this,g=this.$element,v=this.$inner,y=this.options,$=!1,w=!1,_=t(window).width();v.on(e.events.down+".scooch",i).on(e.events.move+".scooch",o).on(e.events.up+".scooch",s).on("click.scooch",r).on("mouseout.scooch",s),g.on("click","[data-m-slide]",function(e){e.preventDefault();var i=t(this).attr("data-m-slide"),n=parseInt(i,10);isNaN(n)?m[i]():m.move(n)}),g.on("afterSlide",function(t,e,i){m.$items.eq(e-1).removeClass(m._getClass("active")),m.$items.eq(i-1).addClass(m._getClass("active")),m.$element.find("[data-m-slide='"+e+"']").removeClass(m._getClass("active")),m.$element.find("[data-m-slide='"+i+"']").addClass(m._getClass("active")),y.autoHideArrows&&(1===i?(m.$element.find("[data-m-slide=prev]").addClass(m._getClass("inactive")),m.$element.find("[data-m-slide=next]").removeClass(m._getClass("inactive"))):i===m._length?(m.$element.find("[data-m-slide=next]").addClass(m._getClass("inactive")),m.$element.find("[data-m-slide=prev]").removeClass(m._getClass("inactive"))):(m.$element.find("[data-m-slide=prev]").removeClass(m._getClass("inactive")),m.$element.find("[data-m-slide=next]").removeClass(m._getClass("inactive"))))}),t(window).on("resize orientationchange",function(){_!=t(window).width()&&(m._disableAnimation(),_=t(window).width(),m.update())}),g.trigger("beforeSlide",[1,1]),g.trigger("afterSlide",[1,1]),m.update()},o.prototype.unbind=function(){this.$inner.off()},o.prototype.destroy=function(){this.unbind(),this.$element.trigger("destroy"),this.$element.remove(),this.$element=null,this.$inner=null,this.$start=null,this.$current=null},o.prototype.move=function(e,i){var n=this.$element,o=(this.$inner,this.$items),s=(this.$start,this.$current),r=this._length,a=this._index;i=t.extend({},this.options,i),1>e?e=1:e>this._length&&(e=r),e==this._index,i.animate?this._enableAnimation():this._disableAnimation(),n.trigger("beforeSlide",[a,e]),this.$current=s=o.eq(e-1),this._offsetDrag=0,this._index=e,i.animate?this.update():this.update(function(){this._enableAnimation()}),n.trigger("afterSlide",[a,e])},o.prototype.next=function(){this.move(this._index+1)},o.prototype.prev=function(){this.move(this._index-1)},o}(t,e);t.fn.scooch=function(e,n){var o=t.extend({},t.fn.scooch.defaults);return"object"==typeof e&&(t.extend(o,e,!0),n=null,e=null),n=Array.prototype.slice.apply(arguments),this.each(function(){var s=(t(this),this._scooch);s||(s=new i(this,o)),e&&(s[e].apply(s,n.slice(1)),"destroy"===e&&(s=null)),this._scooch=s}),this},t.fn.scooch.defaults={}});var isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),move={onMove:function(){move.slideUp(),move.slideDown(),move.slideInLeft(),move.slideInRight(),move.bubble()},isOnScreen:function(t){var e=jQuery(t),i=$(window),n={top:i.scrollTop(),left:i.scrollLeft()};n.right=n.left+i.width(),n.bottom=n.top+i.height();var o=e.offset();return o.right=o.left+e.outerWidth(),o.bottom=o.top+e.outerHeight(),!(n.right<o.left||n.left>o.right||n.bottom<o.top||n.top>o.bottom)},slideUp:function(){var t=jQuery('*[data-animation="slideUp"]');t.length>0&&t.each(function(){var t=jQuery(this);move.isOnScreen(t)?t.addClass("slideIn"):jQuery(window).scroll(function(){move.isOnScreen(t)?t.addClass("slideIn"):t.removeClass("slideIn")})})},slideDown:function(){var t=jQuery('*[data-animation="slideDown"]');t.length>0&&t.each(function(){var t=jQuery(this);move.isOnScreen(t)?t.addClass("slideIn"):jQuery(window).scroll(function(){move.isOnScreen(t)?t.addClass("slideIn"):t.removeClass("slideIn")})})},slideInLeft:function(){var t=jQuery('*[data-animation="slideInLeft"]');t.length>0&&t.each(function(){var t=jQuery(this),e=jQuery(this).parent();move.isOnScreen(e)?t.addClass("slideIn"):jQuery(window).scroll(function(){move.isOnScreen(e)?t.addClass("slideIn"):t.removeClass("slideIn")})})},slideInRight:function(){var t=jQuery('*[data-animation="slideInRight"]');t.length>0&&t.each(function(){var t=jQuery(this),e=jQuery(this).parent();move.isOnScreen(e)?t.addClass("slideIn"):jQuery(window).scroll(function(){move.isOnScreen(e)?t.addClass("slideIn"):t.removeClass("slideIn")})})},bubble:function(){var t=jQuery('*[data-animation="bubble"]');t.length>0&&t.each(function(){var t=jQuery(this),e=jQuery(this).parent();move.isOnScreen(e)?t.addClass("load"):jQuery(window).scroll(function(){move.isOnScreen(e)?t.addClass("load"):t.removeClass("load")})})}},init={onReady:function(){init.addClass(),init.menuToggle(),init.scooch()},scooch:function(){jQuery(".m-scooch").scooch(),jQuery(".arrows .left").on("click",function(t){t.preventDefault(),jQuery(".m-scooch").scooch("prev")}),jQuery(".arrows .right").on("click",function(t){t.preventDefault(),jQuery(".m-scooch").scooch("next")})},addClass:function(){jQuery("header").addClass("slideIn"),setTimeout(function(){jQuery("header").css("overflow","visible")},500),jQuery(".menu-item-has-children").hover(function(){jQuery(this).find("ul").addClass("over")},function(){jQuery(this).find("ul").removeClass("over")})},menuToggle:function(){jQuery(".menu-top").click(function(t){t.preventDefault(),jQuery(this).hasClass("open")?jQuery(this).removeClass("open"):jQuery(this).addClass("open"),jQuery(this).next().slideToggle("slow")})}};jQuery(document).ready(function(){move.onMove(),init.onReady()});